{"version":3,"sources":["../node_modules/event-target-shim/dist/event-target-shim.mjs","../node_modules/@bikeshaving/crank/dom.js","../node_modules/cssesc/cssesc.js","../src/index.ts","components/Frame.tsx","browser-polyfill.js","contentScripts/sidebarEntry.tsx"],"names":["object","hasOwnProperty","merge","options","defaults","result","key","call","regexAnySingleEscape","regexSingleEscape","regexAlwaysEscape","regexExcessiveSpaces","cssesc","string","quotes","quote","isIdentifier","firstChar","charAt","output","counter","length","character","codePoint","charCodeAt","value","extra","toString","toUpperCase","escapeEverything","test","slice","replace","$0","$1","$2","wrap","version","module","exports","browser","Object","getPrototypeOf","prototype","CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE","SEND_RESPONSE_DEPRECATION_WARNING","wrapAPIs","extensionAPIs","apiMetadata","keys","Error","DefaultWeakMap","WeakMap","constructor","createItem","items","undefined","get","has","set","isThenable","then","makeCallback","promise","metadata","callbackArgs","runtime","lastError","reject","singleCallbackArg","resolve","pluralizeArguments","numArgs","wrapAsyncFunction","name","asyncFunctionWrapper","target","args","minArgs","maxArgs","Promise","fallbackToNoCallback","cbError","console","warn","noCallback","wrapMethod","method","wrapper","Proxy","apply","targetMethod","thisObj","Function","bind","wrapObject","wrappers","cache","create","handlers","proxyTarget","prop","receiver","defineProperty","configurable","enumerable","desc","Reflect","deleteProperty","wrapEvent","wrapperMap","addListener","listener","hasListener","removeListener","loggedSendResponseDeprecationWarning","onMessageWrappers","onMessage","message","sender","sendResponse","didCallSendResponse","wrappedSendResponse","sendResponsePromise","response","stack","err","isResultThenable","sendPromisedResult","msg","error","__mozWebExtensionPolyfillReject__","catch","wrappedSendMessageCallback","reply","wrappedSendMessage","apiNamespaceObj","wrappedCb","push","sendMessage","staticWrappers","onMessageExternal","tabs","settingMetadata","clear","privacy","network","services","websites","chrome","id"],"mappings":"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AsB,WAAW,CAAC,SAAlC,EAA6C,MAAM,CAAC,WAAP,CAAmB,SAAhE;AACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"sidebarEntry.js","sourceRoot":"../src","sourcesContent":["/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexport default EventTarget;\nexport { defineEventAttribute, EventTarget };\n//# sourceMappingURL=event-target-shim.mjs.map\n","export * from \"./esm/dom.js\";\n","/*! https://mths.be/cssesc v1.0.1 by @mathias */\n'use strict';\n\nvar object = {};\nvar hasOwnProperty = object.hasOwnProperty;\nvar merge = function merge(options, defaults) {\n\tif (!options) {\n\t\treturn defaults;\n\t}\n\tvar result = {};\n\tfor (var key in defaults) {\n\t\t// `if (defaults.hasOwnProperty(key) {  }` is not needed here, since\n\t\t// only recognized option names are used.\n\t\tresult[key] = hasOwnProperty.call(options, key) ? options[key] : defaults[key];\n\t}\n\treturn result;\n};\n\nvar regexAnySingleEscape = /[ -,\\.\\/;-@\\[-\\^`\\{-~]/;\nvar regexSingleEscape = /[ -,\\.\\/;-@\\[\\]\\^`\\{-~]/;\nvar regexAlwaysEscape = /['\"\\\\]/;\nvar regexExcessiveSpaces = /(^|\\\\+)?(\\\\[A-F0-9]{1,6})\\x20(?![a-fA-F0-9\\x20])/g;\n\n// https://mathiasbynens.be/notes/css-escapes#css\nvar cssesc = function cssesc(string, options) {\n\toptions = merge(options, cssesc.options);\n\tif (options.quotes != 'single' && options.quotes != 'double') {\n\t\toptions.quotes = 'single';\n\t}\n\tvar quote = options.quotes == 'double' ? '\"' : '\\'';\n\tvar isIdentifier = options.isIdentifier;\n\n\tvar firstChar = string.charAt(0);\n\tvar output = '';\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar character = string.charAt(counter++);\n\t\tvar codePoint = character.charCodeAt();\n\t\tvar value = void 0;\n\t\t// If its not a printable ASCII character\n\t\tif (codePoint < 0x20 || codePoint > 0x7E) {\n\t\t\tif (codePoint >= 0xD800 && codePoint <= 0xDBFF && counter < length) {\n\t\t\t\t// Its a high surrogate, and there is a next character.\n\t\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t\t// next character is low surrogate\n\t\t\t\t\tcodePoint = ((codePoint & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000;\n\t\t\t\t} else {\n\t\t\t\t\t// Its an unmatched surrogate; only append this code unit, in case\n\t\t\t\t\t// the next code unit is the high surrogate of a surrogate pair.\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t} else {\n\t\t\tif (options.escapeEverything) {\n\t\t\t\tif (regexAnySingleEscape.test(character)) {\n\t\t\t\t\tvalue = '\\\\' + character;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t\t\t}\n\t\t\t\t// Note: `:` could be escaped as `\\:`, but that fails in IE < 8.\n\t\t\t} else if (/[\\t\\n\\f\\r\\x0B:]/.test(character)) {\n\t\t\t\tif (!isIdentifier && character == ':') {\n\t\t\t\t\tvalue = character;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = '\\\\' + codePoint.toString(16).toUpperCase() + ' ';\n\t\t\t\t}\n\t\t\t} else if (character == '\\\\' || !isIdentifier && (character == '\"' && quote == character || character == '\\'' && quote == character) || isIdentifier && regexSingleEscape.test(character)) {\n\t\t\t\tvalue = '\\\\' + character;\n\t\t\t} else {\n\t\t\t\tvalue = character;\n\t\t\t}\n\t\t}\n\t\toutput += value;\n\t}\n\n\tif (isIdentifier) {\n\t\tif (/^_/.test(output)) {\n\t\t\t// Prevent IE6 from ignoring the rule altogether (in case this is for an\n\t\t\t// identifier used as a selector)\n\t\t\toutput = '\\\\_' + output.slice(1);\n\t\t} else if (/^-[-\\d]/.test(output)) {\n\t\t\toutput = '\\\\-' + output.slice(1);\n\t\t} else if (/\\d/.test(firstChar)) {\n\t\t\toutput = '\\\\3' + firstChar + ' ' + output.slice(1);\n\t\t}\n\t}\n\n\t// Remove spaces after `\\HEX` escapes that are not followed by a hex digit,\n\t// since theyre redundant. Note that this is only possible if the escape\n\t// sequence isnt preceded by an odd number of backslashes.\n\toutput = output.replace(regexExcessiveSpaces, function ($0, $1, $2) {\n\t\tif ($1 && $1.length % 2) {\n\t\t\t// Its not safe to remove the space, so dont.\n\t\t\treturn $0;\n\t\t}\n\t\t// Strip the space.\n\t\treturn ($1 || '') + $2;\n\t});\n\n\tif (!isIdentifier && options.wrap) {\n\t\treturn quote + output + quote;\n\t}\n\treturn output;\n};\n\n// Expose default options (so they can be overridden globally).\ncssesc.options = {\n\t'escapeEverything': false,\n\t'isIdentifier': false,\n\t'quotes': 'single',\n\t'wrap': false\n};\n\ncssesc.version = '1.0.1';\n\nmodule.exports = cssesc;\n",null,"/** @jsx createElement */\nimport { createElement, Context, Fragment, Children } from \"@bikeshaving/crank\"\n\nimport { css, cx } from \"emotion\"\n\n/**\n * This file is a fairly similar copy, just using crankjs, of chrome-sidebar\n * from segmentio https://github.com/segmentio/chrome-sidebar and making use of\n * inline styles to prevent issues with firefox and CSP, as per\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1267027 and friends\n */\n\nconst maskClass = `\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  cursor: pointer;\n  z-index: 9999;\n  background-color: rgba(0, 0, 0, 0.39);\n  transform: translateY(100%);\n  transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1);\n`\n\nconst maskVisibleClass = `\n  transform: translateY(0%);\n`\n\nconst containerClass = `\n  position: fixed;\n  bottom: 0px;\n  right: 0px;\n  width: 100%;\n  height: 65%;\n  max-height: 350px;\n  padding: 8px;\n  box-sizing: border-box;\n  transform: translateY(100%);\n  transition: transform .30s cubic-bezier(0, 0, 0.3, 1);\n  z-index: 10000;\n`\n\nconst containerVisibleClass = `\n  transform: translate3d(0,0,0);\n`\n\nconst containerMinimizedClass = `\n  cursor: pointer;\n  background-color: rgba(0, 0, 0, 0.39);\n  transform: translateY(98%);\n`\n\n//   \":hover\": {\n//     transform: \"translateY(94%)\",\n//   },\n//   \"& > iframe\": {\n//     pointerEvents: \"none\",\n//   },\n// })\n\nconst iframeClass = `\n  border: none;\n  width: 100%;\n  height: 100%;\n  background: white;\n  border-radius: 8px;\n  box-shadow: -1px 1px 8px rgba(0,0,0,.15);\n  overflow: scroll;\n`\n\ninterface FrameProps {\n  children: Children\n  initializeOpen: boolean\n}\n\nfunction* Frame(\n  this: Context,\n  { children, initializeOpen = false }: FrameProps\n) {\n  let isMinimized = !initializeOpen\n\n  const toggle = (minimized?: boolean) => {\n    if (minimized !== undefined) isMinimized = minimized\n    else isMinimized = !isMinimized\n\n    this.refresh()\n  }\n\n  // Is this the recommended way to handle things like opening and closing from\n  // an external context, in crank?\n  this.addEventListener(\"frame.toggle\", (ev) => {\n    ev.preventDefault()\n    ev.stopPropagation()\n\n    toggle()\n  })\n\n  while (true) {\n    yield (\n      <Fragment>\n        <div\n          style={[maskClass, isMinimized ? \"\" : maskVisibleClass].join(\" \")}\n          onclick={() => toggle(true)}\n        />\n        <div\n          style={[\n            containerClass,\n            isMinimized ? containerMinimizedClass : containerVisibleClass,\n          ].join(\" \")}\n          onclick={() => toggle(false)}\n        >\n          <div style={iframeClass}>{children}</div>\n        </div>\n      </Fragment>\n    )\n  }\n}\n\nexport default Frame\n","/* webextension-polyfill - v0.6.0 - Mon Dec 23 2019 12:32:53 */\n/* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n/* vim: set sts=2 sw=2 et tw=80: */\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\"use strict\";\n\nif (typeof browser === \"undefined\" || Object.getPrototypeOf(browser) !== Object.prototype) {\n  const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n  const SEND_RESPONSE_DEPRECATION_WARNING = \"Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)\";\n\n  // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n  // optimization for Firefox. Since Spidermonkey does not fully parse the\n  // contents of a function until the first time it's called, and since it will\n  // never actually need to be called, this allows the polyfill to be included\n  // in Firefox nearly for free.\n  const wrapAPIs = extensionAPIs => {\n    // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n    // at build time by replacing the following \"include\" with the content of the\n    // JSON file.\n    const apiMetadata = {\n      \"alarms\": {\n        \"clear\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"clearAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"bookmarks\": {\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getChildren\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getRecent\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getSubTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTree\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"browserAction\": {\n        \"disable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"enable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"getBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"openPopup\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"browsingData\": {\n        \"remove\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"removeCache\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCookies\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeDownloads\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFormData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeHistory\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeLocalStorage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePasswords\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePluginData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"settings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"commands\": {\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"contextMenus\": {\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"cookies\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAllCookieStores\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"set\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"devtools\": {\n        \"inspectedWindow\": {\n          \"eval\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2,\n            \"singleCallbackArg\": false\n          }\n        },\n        \"panels\": {\n          \"create\": {\n            \"minArgs\": 3,\n            \"maxArgs\": 3,\n            \"singleCallbackArg\": true\n          }\n        }\n      },\n      \"downloads\": {\n        \"cancel\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"download\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"erase\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFileIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"open\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"pause\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFile\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"resume\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"extension\": {\n        \"isAllowedFileSchemeAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"isAllowedIncognitoAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"history\": {\n        \"addUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"deleteRange\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getVisits\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"i18n\": {\n        \"detectLanguage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAcceptLanguages\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"identity\": {\n        \"launchWebAuthFlow\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"idle\": {\n        \"queryState\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"management\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setEnabled\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"uninstallSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"notifications\": {\n        \"clear\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPermissionLevel\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"pageAction\": {\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"hide\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"permissions\": {\n        \"contains\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"request\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"runtime\": {\n        \"getBackgroundPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPlatformInfo\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"openOptionsPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"requestUpdateCheck\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"sendMessage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 3\n        },\n        \"sendNativeMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"setUninstallURL\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"sessions\": {\n        \"getDevices\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getRecentlyClosed\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"restore\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"storage\": {\n        \"local\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"managed\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"sync\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        }\n      },\n      \"tabs\": {\n        \"captureVisibleTab\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"detectLanguage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"discard\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"duplicate\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"executeScript\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getZoom\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getZoomSettings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"highlight\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"insertCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"query\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"reload\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"sendMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 3\n        },\n        \"setZoom\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"setZoomSettings\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"update\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        }\n      },\n      \"topSites\": {\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"webNavigation\": {\n        \"getAllFrames\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFrame\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"webRequest\": {\n        \"handlerBehaviorChanged\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"windows\": {\n        \"create\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getLastFocused\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      }\n    };\n\n    if (Object.keys(apiMetadata).length === 0) {\n      throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n    }\n\n    /**\n     * A WeakMap subclass which creates and stores a value for any key which does\n     * not exist when accessed, but behaves exactly as an ordinary WeakMap\n     * otherwise.\n     *\n     * @param {function} createItem\n     *        A function which will be called in order to create the value for any\n     *        key which does not exist, the first time it is accessed. The\n     *        function receives, as its only argument, the key being created.\n     */\n    class DefaultWeakMap extends WeakMap {\n      constructor(createItem, items = undefined) {\n        super(items);\n        this.createItem = createItem;\n      }\n\n      get(key) {\n        if (!this.has(key)) {\n          this.set(key, this.createItem(key));\n        }\n\n        return super.get(key);\n      }\n    }\n\n    /**\n     * Returns true if the given object is an object with a `then` method, and can\n     * therefore be assumed to behave as a Promise.\n     *\n     * @param {*} value The value to test.\n     * @returns {boolean} True if the value is thenable.\n     */\n    const isThenable = value => {\n      return value && typeof value === \"object\" && typeof value.then === \"function\";\n    };\n\n    /**\n     * Creates and returns a function which, when called, will resolve or reject\n     * the given promise based on how it is called:\n     *\n     * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n     *   the promise is rejected with that value.\n     * - If the function is called with exactly one argument, the promise is\n     *   resolved to that value.\n     * - Otherwise, the promise is resolved to an array containing all of the\n     *   function's arguments.\n     *\n     * @param {object} promise\n     *        An object containing the resolution and rejection functions of a\n     *        promise.\n     * @param {function} promise.resolve\n     *        The promise's resolution function.\n     * @param {function} promise.rejection\n     *        The promise's rejection function.\n     * @param {object} metadata\n     *        Metadata about the wrapped method which has created the callback.\n     * @param {integer} metadata.maxResolvedArgs\n     *        The maximum number of arguments which may be passed to the\n     *        callback created by the wrapped async function.\n     *\n     * @returns {function}\n     *        The generated callback function.\n     */\n    const makeCallback = (promise, metadata) => {\n      return (...callbackArgs) => {\n        if (extensionAPIs.runtime.lastError) {\n          promise.reject(extensionAPIs.runtime.lastError);\n        } else if (metadata.singleCallbackArg ||\n                   (callbackArgs.length <= 1 && metadata.singleCallbackArg !== false)) {\n          promise.resolve(callbackArgs[0]);\n        } else {\n          promise.resolve(callbackArgs);\n        }\n      };\n    };\n\n    const pluralizeArguments = (numArgs) => numArgs == 1 ? \"argument\" : \"arguments\";\n\n    /**\n     * Creates a wrapper function for a method with the given name and metadata.\n     *\n     * @param {string} name\n     *        The name of the method which is being wrapped.\n     * @param {object} metadata\n     *        Metadata about the method being wrapped.\n     * @param {integer} metadata.minArgs\n     *        The minimum number of arguments which must be passed to the\n     *        function. If called with fewer than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {integer} metadata.maxArgs\n     *        The maximum number of arguments which may be passed to the\n     *        function. If called with more than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {integer} metadata.maxResolvedArgs\n     *        The maximum number of arguments which may be passed to the\n     *        callback created by the wrapped async function.\n     *\n     * @returns {function(object, ...*)}\n     *       The generated wrapper function.\n     */\n    const wrapAsyncFunction = (name, metadata) => {\n      return function asyncFunctionWrapper(target, ...args) {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          if (metadata.fallbackToNoCallback) {\n            // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n            // and so the polyfill will try to call it with a callback first, and it will fallback\n            // to not passing the callback if the first call fails.\n            try {\n              target[name](...args, makeCallback({resolve, reject}, metadata));\n            } catch (cbError) {\n              console.warn(`${name} API method doesn't seem to support the callback parameter, ` +\n                           \"falling back to call it without a callback: \", cbError);\n\n              target[name](...args);\n\n              // Update the API method metadata, so that the next API calls will not try to\n              // use the unsupported callback anymore.\n              metadata.fallbackToNoCallback = false;\n              metadata.noCallback = true;\n\n              resolve();\n            }\n          } else if (metadata.noCallback) {\n            target[name](...args);\n            resolve();\n          } else {\n            target[name](...args, makeCallback({resolve, reject}, metadata));\n          }\n        });\n      };\n    };\n\n    /**\n     * Wraps an existing method of the target object, so that calls to it are\n     * intercepted by the given wrapper function. The wrapper function receives,\n     * as its first argument, the original `target` object, followed by each of\n     * the arguments passed to the original method.\n     *\n     * @param {object} target\n     *        The original target object that the wrapped method belongs to.\n     * @param {function} method\n     *        The method being wrapped. This is used as the target of the Proxy\n     *        object which is created to wrap the method.\n     * @param {function} wrapper\n     *        The wrapper function which is called in place of a direct invocation\n     *        of the wrapped method.\n     *\n     * @returns {Proxy<function>}\n     *        A Proxy object for the given method, which invokes the given wrapper\n     *        method in its place.\n     */\n    const wrapMethod = (target, method, wrapper) => {\n      return new Proxy(method, {\n        apply(targetMethod, thisObj, args) {\n          return wrapper.call(thisObj, target, ...args);\n        },\n      });\n    };\n\n    let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n\n    /**\n     * Wraps an object in a Proxy which intercepts and wraps certain methods\n     * based on the given `wrappers` and `metadata` objects.\n     *\n     * @param {object} target\n     *        The target object to wrap.\n     *\n     * @param {object} [wrappers = {}]\n     *        An object tree containing wrapper functions for special cases. Any\n     *        function present in this object tree is called in place of the\n     *        method in the same location in the `target` object tree. These\n     *        wrapper methods are invoked as described in {@see wrapMethod}.\n     *\n     * @param {object} [metadata = {}]\n     *        An object tree containing metadata used to automatically generate\n     *        Promise-based wrapper functions for asynchronous. Any function in\n     *        the `target` object tree which has a corresponding metadata object\n     *        in the same location in the `metadata` tree is replaced with an\n     *        automatically-generated wrapper function, as described in\n     *        {@see wrapAsyncFunction}\n     *\n     * @returns {Proxy<object>}\n     */\n    const wrapObject = (target, wrappers = {}, metadata = {}) => {\n      let cache = Object.create(null);\n      let handlers = {\n        has(proxyTarget, prop) {\n          return prop in target || prop in cache;\n        },\n\n        get(proxyTarget, prop, receiver) {\n          if (prop in cache) {\n            return cache[prop];\n          }\n\n          if (!(prop in target)) {\n            return undefined;\n          }\n\n          let value = target[prop];\n\n          if (typeof value === \"function\") {\n            // This is a method on the underlying object. Check if we need to do\n            // any wrapping.\n\n            if (typeof wrappers[prop] === \"function\") {\n              // We have a special-case wrapper for this method.\n              value = wrapMethod(target, target[prop], wrappers[prop]);\n            } else if (hasOwnProperty(metadata, prop)) {\n              // This is an async method that we have metadata for. Create a\n              // Promise wrapper for it.\n              let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n              value = wrapMethod(target, target[prop], wrapper);\n            } else {\n              // This is a method that we don't know or care about. Return the\n              // original method, bound to the underlying object.\n              value = value.bind(target);\n            }\n          } else if (typeof value === \"object\" && value !== null &&\n                     (hasOwnProperty(wrappers, prop) ||\n                      hasOwnProperty(metadata, prop))) {\n            // This is an object that we need to do some wrapping for the children\n            // of. Create a sub-object wrapper for it with the appropriate child\n            // metadata.\n            value = wrapObject(value, wrappers[prop], metadata[prop]);\n          } else if (hasOwnProperty(metadata, \"*\")) {\n            // Wrap all properties in * namespace.\n            value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n          } else {\n            // We don't need to do any wrapping for this property,\n            // so just forward all access to the underlying object.\n            Object.defineProperty(cache, prop, {\n              configurable: true,\n              enumerable: true,\n              get() {\n                return target[prop];\n              },\n              set(value) {\n                target[prop] = value;\n              },\n            });\n\n            return value;\n          }\n\n          cache[prop] = value;\n          return value;\n        },\n\n        set(proxyTarget, prop, value, receiver) {\n          if (prop in cache) {\n            cache[prop] = value;\n          } else {\n            target[prop] = value;\n          }\n          return true;\n        },\n\n        defineProperty(proxyTarget, prop, desc) {\n          return Reflect.defineProperty(cache, prop, desc);\n        },\n\n        deleteProperty(proxyTarget, prop) {\n          return Reflect.deleteProperty(cache, prop);\n        },\n      };\n\n      // Per contract of the Proxy API, the \"get\" proxy handler must return the\n      // original value of the target if that value is declared read-only and\n      // non-configurable. For this reason, we create an object with the\n      // prototype set to `target` instead of using `target` directly.\n      // Otherwise we cannot return a custom object for APIs that\n      // are declared read-only and non-configurable, such as `chrome.devtools`.\n      //\n      // The proxy handlers themselves will still use the original `target`\n      // instead of the `proxyTarget`, so that the methods and properties are\n      // dereferenced via the original targets.\n      let proxyTarget = Object.create(target);\n      return new Proxy(proxyTarget, handlers);\n    };\n\n    /**\n     * Creates a set of wrapper functions for an event object, which handles\n     * wrapping of listener functions that those messages are passed.\n     *\n     * A single wrapper is created for each listener function, and stored in a\n     * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n     * retrieve the original wrapper, so that  attempts to remove a\n     * previously-added listener work as expected.\n     *\n     * @param {DefaultWeakMap<function, function>} wrapperMap\n     *        A DefaultWeakMap object which will create the appropriate wrapper\n     *        for a given listener function when one does not exist, and retrieve\n     *        an existing one when it does.\n     *\n     * @returns {object}\n     */\n    const wrapEvent = wrapperMap => ({\n      addListener(target, listener, ...args) {\n        target.addListener(wrapperMap.get(listener), ...args);\n      },\n\n      hasListener(target, listener) {\n        return target.hasListener(wrapperMap.get(listener));\n      },\n\n      removeListener(target, listener) {\n        target.removeListener(wrapperMap.get(listener));\n      },\n    });\n\n    // Keep track if the deprecation warning has been logged at least once.\n    let loggedSendResponseDeprecationWarning = false;\n\n    const onMessageWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps a message listener function so that it may send responses based on\n       * its return value, rather than by returning a sentinel value and calling a\n       * callback. If the listener function returns a Promise, the response is\n       * sent when the promise either resolves or rejects.\n       *\n       * @param {*} message\n       *        The message sent by the other end of the channel.\n       * @param {object} sender\n       *        Details about the sender of the message.\n       * @param {function(*)} sendResponse\n       *        A callback which, when called with an arbitrary argument, sends\n       *        that value as a response.\n       * @returns {boolean}\n       *        True if the wrapped listener returned a Promise, which will later\n       *        yield a response. False otherwise.\n       */\n      return function onMessage(message, sender, sendResponse) {\n        let didCallSendResponse = false;\n\n        let wrappedSendResponse;\n        let sendResponsePromise = new Promise(resolve => {\n          wrappedSendResponse = function(response) {\n            if (!loggedSendResponseDeprecationWarning) {\n              console.warn(SEND_RESPONSE_DEPRECATION_WARNING, new Error().stack);\n              loggedSendResponseDeprecationWarning = true;\n            }\n            didCallSendResponse = true;\n            resolve(response);\n          };\n        });\n\n        let result;\n        try {\n          result = listener(message, sender, wrappedSendResponse);\n        } catch (err) {\n          result = Promise.reject(err);\n        }\n\n        const isResultThenable = result !== true && isThenable(result);\n\n        // If the listener didn't returned true or a Promise, or called\n        // wrappedSendResponse synchronously, we can exit earlier\n        // because there will be no response sent from this listener.\n        if (result !== true && !isResultThenable && !didCallSendResponse) {\n          return false;\n        }\n\n        // A small helper to send the message if the promise resolves\n        // and an error if the promise rejects (a wrapped sendMessage has\n        // to translate the message into a resolved promise or a rejected\n        // promise).\n        const sendPromisedResult = (promise) => {\n          promise.then(msg => {\n            // send the message value.\n            sendResponse(msg);\n          }, error => {\n            // Send a JSON representation of the error if the rejected value\n            // is an instance of error, or the object itself otherwise.\n            let message;\n            if (error && (error instanceof Error ||\n                typeof error.message === \"string\")) {\n              message = error.message;\n            } else {\n              message = \"An unexpected error occurred\";\n            }\n\n            sendResponse({\n              __mozWebExtensionPolyfillReject__: true,\n              message,\n            });\n          }).catch(err => {\n            // Print an error on the console if unable to send the response.\n            console.error(\"Failed to send onMessage rejected reply\", err);\n          });\n        };\n\n        // If the listener returned a Promise, send the resolved value as a\n        // result, otherwise wait the promise related to the wrappedSendResponse\n        // callback to resolve and send it as a response.\n        if (isResultThenable) {\n          sendPromisedResult(result);\n        } else {\n          sendPromisedResult(sendResponsePromise);\n        }\n\n        // Let Chrome know that the listener is replying.\n        return true;\n      };\n    });\n\n    const wrappedSendMessageCallback = ({reject, resolve}, reply) => {\n      if (extensionAPIs.runtime.lastError) {\n        // Detect when none of the listeners replied to the sendMessage call and resolve\n        // the promise to undefined as in Firefox.\n        // See https://github.com/mozilla/webextension-polyfill/issues/130\n        if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n          resolve();\n        } else {\n          reject(extensionAPIs.runtime.lastError);\n        }\n      } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n        // Convert back the JSON representation of the error into\n        // an Error instance.\n        reject(new Error(reply.message));\n      } else {\n        resolve(reply);\n      }\n    };\n\n    const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n      if (args.length < metadata.minArgs) {\n        throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      if (args.length > metadata.maxArgs) {\n        throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      return new Promise((resolve, reject) => {\n        const wrappedCb = wrappedSendMessageCallback.bind(null, {resolve, reject});\n        args.push(wrappedCb);\n        apiNamespaceObj.sendMessage(...args);\n      });\n    };\n\n    const staticWrappers = {\n      runtime: {\n        onMessage: wrapEvent(onMessageWrappers),\n        onMessageExternal: wrapEvent(onMessageWrappers),\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 1, maxArgs: 3}),\n      },\n      tabs: {\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 2, maxArgs: 3}),\n      },\n    };\n    const settingMetadata = {\n      clear: {minArgs: 1, maxArgs: 1},\n      get: {minArgs: 1, maxArgs: 1},\n      set: {minArgs: 1, maxArgs: 1},\n    };\n    apiMetadata.privacy = {\n      network: {\"*\": settingMetadata},\n      services: {\"*\": settingMetadata},\n      websites: {\"*\": settingMetadata},\n    };\n\n    return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n  };\n\n  if (typeof chrome != \"object\" || !chrome || !chrome.runtime || !chrome.runtime.id) {\n    throw new Error(\"This script should only be loaded in a browser extension.\");\n  }\n\n  // The build process adds a UMD wrapper around this file, which makes the\n  // `module` variable available.\n  module.exports = wrapAPIs(chrome);\n} else {\n  module.exports = browser;\n}\n","/** @jsx createElement */\nimport { createElement } from \"@bikeshaving/crank\"\nimport { renderer } from \"@bikeshaving/crank/dom\"\n\nimport finder from \"@medv/finder\"\n\nimport Frame from \"../components/Frame\"\n\nimport browser from \"webextension-polyfill\"\n\nconst selectorsForHover = () => {\n  const hovered = Array.from(document.querySelectorAll(\":hover\"))\n    .filter((node) => !frame!.contains(node))\n    .reverse()\n\n  return hovered.reduce((memo, node) => ({ ...memo, [finder(node)]: node }), {})\n}\n\nconst setSelectors = (ev: MouseEvent) => {\n  if (frame?.contains(ev.target as HTMLElement)) return\n\n  ev.preventDefault()\n  ev.stopPropagation()\n  document.removeEventListener(\"click\", setSelectors)\n\n  const selectors = selectorsForHover()\n\n  console.log(selectors)\n}\n\nconst root = document.createElement(\"div\")\n\nlet frame: Element | undefined\n\nconst toggleFrame = () => {\n  if (document.contains(root)) {\n    frame!.dispatchEvent(new CustomEvent(\"frame.toggle\", { bubbles: true }))\n\n    return\n  }\n\n  document.body.appendChild(root)\n\n  Promise.resolve(\n    renderer.render(\n      <Frame initializeOpen>\n        <iframe src={browser.extension.getURL(\"sidebar/index.html\")} />\n      </Frame>,\n      root\n    )\n  )\n    .then((f) => (frame = f.firstElementChild!))\n    .then(console.log)\n}\n\nbrowser.runtime.onMessage.addListener((message, sender) => {\n  const msg = JSON.parse(message)\n\n  console.debug(`Got message ${msg.action}`, { payload: msg.payload, sender })\n\n  switch (msg.action) {\n    case \"open\":\n      toggleFrame()\n      break\n\n    case \"select\":\n      document.addEventListener(\"click\", setSelectors)\n      break\n  }\n})\n"]}